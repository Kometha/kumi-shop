<div class="register-container min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4">
  <div class="register-card bg-white rounded-2xl shadow-xl p-8 w-full max-w-2xl">
    <!-- Header -->
    <div class="text-center mb-8">
      <h1 class="text-3xl font-bold text-gray-900 mb-2">Crear Cuenta</h1>
      <p class="text-gray-600">Completa tus datos para registrarte en Kumi Shop</p>
    </div>

    <!-- Messages -->
    <div *ngIf="successMessage" class="mb-6">
      <p-message severity="success" [text]="successMessage" [closable]="false"></p-message>
    </div>

    <div *ngIf="errorMessage" class="mb-6">
      <p-message severity="error" [text]="errorMessage" [closable]="false"></p-message>
    </div>

    <!-- Formulario -->
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="space-y-6">

      <!-- Nombres y Apellidos -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <!-- Nombres -->
        <div class="form-group">
          <label for="nombres" class="block text-sm font-medium text-gray-700 mb-2">
            Nombres *
          </label>
          <input
            id="nombres"
            pInputText
            formControlName="nombres"
            placeholder="Ej: Juan Carlos"
            class="w-full"
            [class.ng-invalid]="isFieldInvalid('nombres')"
          />
          <small
            *ngIf="isFieldInvalid('nombres')"
            class="text-red-500 text-xs mt-1 block">
            {{ getFieldError('nombres') }}
          </small>
        </div>

        <!-- Apellidos -->
        <div class="form-group">
          <label for="apellidos" class="block text-sm font-medium text-gray-700 mb-2">
            Apellidos *
          </label>
          <input
            id="apellidos"
            pInputText
            formControlName="apellidos"
            placeholder="Ej: García López"
            class="w-full"
            [class.ng-invalid]="isFieldInvalid('apellidos')"
          />
          <small
            *ngIf="isFieldInvalid('apellidos')"
            class="text-red-500 text-xs mt-1 block">
            {{ getFieldError('apellidos') }}
          </small>
        </div>
      </div>

      <!-- Fecha de nacimiento y Género -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <!-- Fecha de nacimiento -->
        <div class="form-group">
          <label for="fecha_nacimiento" class="block text-sm font-medium text-gray-700 mb-2">
            Fecha de Nacimiento *
          </label>
          <p-calendar
            formControlName="fecha_nacimiento"
            [showIcon]="true"
            placeholder="Selecciona tu fecha de nacimiento"
            dateFormat="dd/mm/yy"
            [yearNavigator]="true"
            [monthNavigator]="true"
            yearRange="1920:2010"
            [maxDate]="getMaxDate()"
            [style]="{'width':'100%'}"
            [class.ng-invalid]="isFieldInvalid('fecha_nacimiento')"
          ></p-calendar>
          <small
            *ngIf="isFieldInvalid('fecha_nacimiento')"
            class="text-red-500 text-xs mt-1 block">
            {{ getFieldError('fecha_nacimiento') }}
          </small>
        </div>

        <!-- Género -->
        <div class="form-group">
          <label for="genero" class="block text-sm font-medium text-gray-700 mb-2">
            Género *
          </label>
          <p-dropdown
            formControlName="genero"
            [options]="generoOptions"
            placeholder="Selecciona tu género"
            optionLabel="label"
            optionValue="value"
            [style]="{'width':'100%'}"
            [class.ng-invalid]="isFieldInvalid('genero')"
          ></p-dropdown>
          <small
            *ngIf="isFieldInvalid('genero')"
            class="text-red-500 text-xs mt-1 block">
            {{ getFieldError('genero') }}
          </small>
        </div>
      </div>

      <!-- Email y Número Celular -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <!-- Email -->
        <div class="form-group">
          <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
            Correo Electrónico *
          </label>
          <input
            id="email"
            type="email"
            pInputText
            formControlName="email"
            placeholder="ejemplo@correo.com"
            class="w-full"
            [class.ng-invalid]="isFieldInvalid('email')"
          />
          <small
            *ngIf="isFieldInvalid('email')"
            class="text-red-500 text-xs mt-1 block">
            {{ getFieldError('email') }}
          </small>
        </div>

        <!-- Número Celular -->
        <div class="form-group">
          <label for="numero_celular" class="block text-sm font-medium text-gray-700 mb-2">
            Número Celular *
          </label>
          <input
            id="numero_celular"
            type="tel"
            pInputText
            formControlName="numero_celular"
            placeholder="1234567890"
            maxlength="10"
            class="w-full"
            [class.ng-invalid]="isFieldInvalid('numero_celular')"
          />
          <small
            *ngIf="isFieldInvalid('numero_celular')"
            class="text-red-500 text-xs mt-1 block">
            {{ getFieldError('numero_celular') }}
          </small>
        </div>
      </div>

      <!-- Contraseñas -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <!-- Contraseña -->
        <div class="form-group">
          <label for="password" class="block text-sm font-medium text-gray-700 mb-2">
            Contraseña *
          </label>
          <p-password
            formControlName="password"
            placeholder="Crea una contraseña segura"
            [toggleMask]="true"
            [feedback]="true"
            promptLabel="Ingresa una contraseña"
            weakLabel="Débil"
            mediumLabel="Medio"
            strongLabel="Fuerte"
            [style]="{'width':'100%'}"
            [inputStyle]="{'width':'100%'}"
            [class.ng-invalid]="isFieldInvalid('password')"
          ></p-password>
          <small
            *ngIf="isFieldInvalid('password')"
            class="text-red-500 text-xs mt-1 block">
            {{ getFieldError('password') }}
          </small>
        </div>

        <!-- Confirmar Contraseña -->
        <div class="form-group">
          <label for="confirmPassword" class="block text-sm font-medium text-gray-700 mb-2">
            Confirmar Contraseña *
          </label>
          <p-password
            formControlName="confirmPassword"
            placeholder="Confirma tu contraseña"
            [toggleMask]="true"
            [feedback]="false"
            [style]="{'width':'100%'}"
            [inputStyle]="{'width':'100%'}"
            [class.ng-invalid]="isFieldInvalid('confirmPassword')"
          ></p-password>
          <small
            *ngIf="isFieldInvalid('confirmPassword')"
            class="text-red-500 text-xs mt-1 block">
            {{ getFieldError('confirmPassword') }}
          </small>
        </div>
      </div>

      <!-- Botones -->
      <div class="flex flex-col sm:flex-row gap-3 pt-6">
        <button
          pButton
          type="submit"
          label="Crear Cuenta"
          icon="pi pi-user-plus"
          [loading]="loading"
          [disabled]="loading"
          class="flex-1 p-button-lg"
        ></button>

        <button
          pButton
          type="button"
          label="Ya tengo cuenta"
          icon="pi pi-sign-in"
          class="flex-1 p-button-outlined p-button-lg"
          (click)="goToLogin()"
          [disabled]="loading"
        ></button>
      </div>

      <!-- Términos y condiciones -->
      <div class="text-center text-sm text-gray-600 mt-6">
        Al crear una cuenta, aceptas nuestros
        <a href="#" class="text-blue-600 hover:text-blue-800 underline">Términos de Servicio</a>
        y
        <a href="#" class="text-blue-600 hover:text-blue-800 underline">Política de Privacidad</a>
      </div>
    </form>
  </div>
</div>

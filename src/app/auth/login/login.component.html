<div
  class="login-container min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4"
>
  <div class="login-card bg-white rounded-2xl shadow-xl p-8 w-full max-w-md">
    <!-- Header -->
    <div class="text-center mb-8">
      <div
        class="mx-auto w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center mb-4"
      >
        <i class="pi pi-user text-white text-2xl"></i>
      </div>
      <h1 class="text-3xl font-bold text-gray-900 mb-2">Bienvenido</h1>
      <p class="text-gray-600">Inicia sesión en Kumi Shop</p>
    </div>

    <!-- Formulario -->
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="space-y-6">
      <!-- Email -->
      <div class="form-group">
        <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
          <i class="pi pi-envelope text-blue-600 mr-1"></i>
          Correo Electrónico
        </label>
        <div class="relative">
          <i
            class="pi pi-at absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"
          ></i>
          <input
            id="email"
            type="email"
            pInputText
            formControlName="email"
            placeholder="ejemplo@correo.com"
            class="w-full py-3"
            style="padding-left: 2.5rem; padding-right: 3rem;"
            [class.ng-invalid]="isFieldInvalid('email')"
            [class.border-green-500]="loginForm.get('email')?.valid && loginForm.get('email')?.touched"
          />
          <div class="absolute right-3 top-1/2 transform -translate-y-1/2">
            @if (loginForm.get('email')?.valid && loginForm.get('email')?.touched) {
              <i class="pi pi-check-circle text-green-500"></i>
            }
          </div>
        </div>
        @if (isFieldInvalid('email')) {
          <small
            class="text-red-500 text-xs mt-1 block flex items-center"
          >
            <i class="pi pi-exclamation-triangle mr-1"></i>
            {{ getFieldError("email") }}
          </small>
        }
        @if (loginForm.get('email')?.valid && loginForm.get('email')?.touched) {
          <small
            class="text-green-600 text-xs mt-1 block flex items-center"
          >
          </small>
        }
      </div>

      <!-- Password -->
      <div class="form-group">
        <label
          for="password"
          class="block text-sm font-medium text-gray-700 mb-2"
        >
          Contraseña
        </label>
        <div class="relative">
          <i
            class="pi pi-lock absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 z-10"
          ></i>
          <p-password
            formControlName="password"
            placeholder="Tu contraseña"
            [toggleMask]="true"
            [feedback]="false"
            [style]="{ width: '100%' }"
            [inputStyle]="{ width: '100%', 'padding-left': '2.5rem' }"
            [class.ng-invalid]="isFieldInvalid('password')"
          ></p-password>
        </div>
        @if (isFieldInvalid('password')) {
          <small
            class="text-red-500 text-xs mt-1 block"
          >
            {{ getFieldError("password") }}
          </small>
        }
      </div>

      <!-- Forgot Password -->
      <div class="text-right">
        <button
          type="button"
          class="text-sm text-blue-600 hover:text-blue-800 underline"
        >
          ¿Olvidaste tu contraseña?
        </button>
      </div>

      <!-- Submit Button -->
      <button
        pButton
        type="submit"
        label="Iniciar Sesión"
        icon="pi pi-sign-in"
        [loading]="loading"
        [disabled]="loading"
        class="w-full p-button-lg"
      ></button>

      <!-- Divider -->
      <div class="relative my-6">
        <div class="absolute inset-0 flex items-center">
          <div class="w-full border-t border-gray-300"></div>
        </div>
        <div class="relative flex justify-center text-sm">
          <span class="px-2 bg-white text-gray-500">o</span>
        </div>
      </div>

      <!-- Register Button -->
      <button
        pButton
        type="button"
        label="Crear Cuenta Nueva"
        icon="pi pi-user-plus"
        class="w-full p-button-outlined p-button-lg"
        (click)="goToRegister()"
        [disabled]="loading"
      ></button>
    </form>

    <!-- Footer -->
    <div class="text-center text-sm text-gray-600 mt-8">
      Al iniciar sesión, aceptas nuestros
      <a href="#" class="text-blue-600 hover:text-blue-800 underline"
        >Términos de Servicio</a
      >
    </div>
  </div>
</div>
